import{E as T}from"./base.1e933585.js";import{E as I}from"./el-date-picker.a5c292ff.js";/* empty css                 */import"./el-scrollbar.79423c53.js";import"./el-popper.d46c6f11.js";import{E as U}from"./el-button.b4eca325.js";import{E as L,a as j}from"./el-col.e8e68218.js";import{_ as S,d as q,M as z,c as C,D as $,r as f,G,Q as O,o as p,l as A,f as D,w as l,g as o,h,q as a,j as t,t as s,B as b,aV as P}from"./index.9aa6671f.js";import{b as k}from"./manageFile.bbbb0513.js";import{m as Q}from"./index.eef4dd4b.js";import{E as r}from"./index.7c4906df.js";import{E as J}from"./index.025ab758.js";function K(y){return Q.get({url:`/d/${y}`,responseType:"blob",needHeader:!0})}const W={class:"container"},X={key:3,class:"mobile-info-box"},Z={class:"info-item"},ee={class:"info-item"},ue={class:"info-item"},te={class:"info-item"},ae={class:"article-title"},le=["innerHTML"],oe={key:4,style:{width:"80%"}},se={class:"file_name"},ne={style:{width:"80%"}},ie={style:{width:"80%"},class:"change-time-section"},re={class:"action-buttons"},ce=q({__name:"f_check",setup(y){const M=z(),F=C(()=>M.isMobile),E=$(),e=f({userName:"",sno:"",type:0,title:"",content:"",createAt:"",status:"",id:0,file_id:"",attachment:""}),x=[{label:"\u5168\u90E8",value:-1},{label:"\u5165\u515A\u7533\u8BF7\u4E66",value:1},{label:"\u601D\u60F3\u6C47\u62A5",value:2},{label:"\u4E2A\u4EBA\u81EA\u4F20",value:3},{label:"\u5165\u515A\u5FD7\u613F\u4E66",value:4},{label:"\u8F6C\u6B63\u7533\u8BF7\u4E66",value:5},{label:"\u4E2A\u4EBA\u5C0F\u7ED3",value:6}],c=f("");let d=f("");const w=C(()=>{if(e.value.type<=6)return x[e.value.type].label});G(async()=>{e.value=history.state.params,e.value.content=e.value.content.replace(/\\r\\n|\\n|\\r/g,"<br>"),console.log(e.value)}),f({title:"\u5165\u515A\u7533\u8BF7\u4E66",content:"\u8FD9\u662F\u6587\u7AE0\u7684\u6B63\u6587\u5185\u5BB9..."});const V=async()=>{if(!e.value.attachment){r.warning("\u65E0\u9644\u4EF6");return}await K(e.value.attachment).then(n=>{const u=window.URL.createObjectURL(new Blob([n.data])),v=document.createElement("a");v.href=u;let _=e.value.attachment.split("/");v.setAttribute("download",_[_.length-1]),document.body.appendChild(v),v.click()}).catch(n=>{r.error(n)})},Y=async()=>{if(!c.value){r.warning("\u8BF7\u586B\u5199\u65F6\u95F4");return}await k(1,e.value.file_id,d.value,c.value).then(()=>{r.success("\u5904\u7406\u6210\u529F"),E.back()}).catch(n=>{r.error(n)})},N=async()=>{if(!c.value){r.warning("\u8BF7\u586B\u5199\u65F6\u95F4");return}await k(2,e.value.file_id,d.value,c.value).then(()=>{r.success("\u5904\u7406\u6210\u529F"),E.back()}).catch(n=>{r.error(n)})};return(n,u)=>{const v=O("Close"),_=T,i=L,g=j,B=U,H=J,R=I;return p(),A("div",W,[F.value?a("v-if",!0):(p(),D(_,{key:0,onClick:u[0]||(u[0]=m=>h(E).back()),style:{height:"50px",margin:"20px 5% 0 auto","font-size":"50px"}},{default:l(()=>[o(v)]),_:1})),a(" \u8868\u5934\u90E8\u5206 "),F.value?a("v-if",!0):(p(),D(g,{key:1,class:"personal-info-title"},{default:l(()=>[o(i,{span:6},{default:l(()=>u[3]||(u[3]=[t("div",null,"\u59D3\u540D",-1)])),_:1}),o(i,{span:6},{default:l(()=>u[4]||(u[4]=[t("div",null,"\u5B66\u53F7",-1)])),_:1}),o(i,{span:6},{default:l(()=>u[5]||(u[5]=[t("div",null,"\u6587\u4EF6\u7C7B\u578B",-1)])),_:1}),o(i,{span:6},{default:l(()=>u[6]||(u[6]=[t("div",null,"\u9012\u4EA4\u65F6\u95F4",-1)])),_:1})]),_:1})),a(" \u4E2A\u4EBA\u4FE1\u606F\u90E8\u5206 "),F.value?a("v-if",!0):(p(),D(g,{key:2,class:"personal-info"},{default:l(()=>[o(i,{span:6},{default:l(()=>[t("div",null,s(e.value.userName),1)]),_:1}),o(i,{span:6},{default:l(()=>[t("div",null,s(e.value.sno),1)]),_:1}),o(i,{span:6},{default:l(()=>[t("div",null,s(w.value),1)]),_:1}),o(i,{span:6},{default:l(()=>[t("div",null,s(new Date(Date.parse(e.value.createAt)).getFullYear()+"-"+(new Date(Date.parse(e.value.createAt)).getMonth()+1)+"-"+new Date(Date.parse(e.value.createAt)).getDate()),1)]),_:1})]),_:1})),a(" \u624B\u673A\u7AEF\u7684\u4E2A\u4EBA\u4FE1\u606F\u90E8\u5206 "),F.value?(p(),A("div",X,[t("div",Z,"\u59D3\u540D\uFF1A"+s(e.value.userName),1),t("div",ee,"\u5B66\u53F7\uFF1A"+s(e.value.sno),1),t("div",ue,"\u6587\u4EF6\u7C7B\u578B\uFF1A"+s(w.value),1),t("div",te," \u9012\u4EA4\u65F6\u95F4\uFF1A"+s(new Date(Date.parse(e.value.createAt)).getFullYear()+"-"+(new Date(Date.parse(e.value.createAt)).getMonth()+1)+"-"+new Date(Date.parse(e.value.createAt)).getDate()),1)])):a("v-if",!0),a(" \u6587\u7AE0\u6807\u9898 "),t("div",ae,s(e.value.title),1),a(" \u6B63\u6587 "),t("div",{class:"article-content",innerHTML:e.value.content},null,8,le),a(" \u9644\u4EF6 "),e.value.attachment?(p(),A("div",oe,[t("div",se,s(e.value.attachment),1)])):a("v-if",!0),a(" \u4E0B\u8F7D\u9644\u4EF6 "),t("div",ne,[o(B,{class:"downloadBtn",color:"#C7242F",onClick:V},{default:l(()=>u[7]||(u[7]=[b("\u4E0B\u8F7D\u9644\u4EF6")])),_:1})]),a("\u5BA1\u6279\u610F\u89C1"),o(H,{type:"textarea",placeholder:"\u5BA1\u6279\u610F\u89C1\uFF08\u9009\u586B\uFF09",class:"approval-comment",modelValue:h(d),"onUpdate:modelValue":u[1]||(u[1]=m=>P(d)?d.value=m:d=m)},null,8,["modelValue"]),a(" \u5904\u7406\u65F6\u95F4 "),u[10]||(u[10]=t("div",{style:{width:"80%"}},[t("div",{style:{color:"#c7242f"},class:"font1"}," *\u8BE5\u8282\u70B9\u9700\u8981\u8BB0\u5F55\u65F6\u95F4\uFF0C\u8BF7\u9009\u62E9\u72B6\u6001\u53D8\u66F4\u65F6\u95F4 ")],-1)),t("div",ie,[o(R,{type:"datetime",size:"small",style:{"align-self":"flex-start","margin-top":"10px"},modelValue:c.value,"onUpdate:modelValue":u[2]||(u[2]=m=>c.value=m),format:"YYYY-MM-DD-HH:mm","value-format":"YYYY-MM-DDTHH:mm:ss.sss"},null,8,["modelValue"])]),a(" \u5E95\u90E8\u6309\u94AE "),t("div",re,[o(B,{class:"custom-button",color:"#C7242F",onClick:Y},{default:l(()=>u[8]||(u[8]=[b("\u901A\u8FC7")])),_:1}),o(B,{class:"custom-button",onClick:N},{default:l(()=>u[9]||(u[9]=[b("\u4E0D\u901A\u8FC7")])),_:1})])])}}});var ye=S(ce,[["__scopeId","data-v-2f2522fa"],["__file","C:/Users/77/Desktop/party-building1/party-building-secretary/src/views/pages/f_check.vue"]]);export{ye as default};
