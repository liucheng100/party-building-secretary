import{E as R}from"./base.45a05a23.js";import{E as I}from"./el-date-picker.bbdfccd7.js";/* empty css                 */import"./el-scrollbar.bf283bcb.js";import"./el-popper.67d0705d.js";import{E as L}from"./el-button.028e6afb.js";import{E as U,a as j}from"./el-col.9fc588fd.js";import{b as C}from"./manageFile.805a80fa.js";import{m as S}from"./index.fbe375fc.js";import{d as q,M as z,c as g,D as $,r as F,G,Q as O,o as m,l as D,f as b,w as a,g as l,h as k,q as v,j as u,t as o,B as y,aT as P}from"./index.6e34900c.js";import{_ as Q}from"./plugin-vue_export-helper.21dcd24c.js";import{E as i}from"./index.a33a8b7c.js";import{E as J}from"./index.cee1fac9.js";function K(w){return S.get({url:`/d/${w}`,responseType:"blob",needHeader:!0})}const W={class:"container"},X={key:3,class:"mobile-info-box"},Z={class:"info-item"},ee={class:"info-item"},te={class:"info-item"},ue={class:"info-item"},ae={class:"article-title"},le=["innerHTML"],oe={key:4,style:{width:"80%"}},se={class:"file_name"},ne={style:{width:"80%"}},ie={style:{width:"80%"},class:"change-time-section"},re={class:"action-buttons"},ce=q({__name:"f_check",setup(w){const M=z(),_=g(()=>M.isMobile),E=$(),e=F({userName:"",sno:"",type:0,title:"",content:"",createAt:"",status:"",id:0,file_id:"",attachment:""}),x=[{label:"\u5168\u90E8",value:-1},{label:"\u5165\u515A\u7533\u8BF7\u4E66",value:1},{label:"\u601D\u60F3\u6C47\u62A5",value:2},{label:"\u4E2A\u4EBA\u81EA\u4F20",value:3},{label:"\u5165\u515A\u5FD7\u613F\u4E66",value:4},{label:"\u8F6C\u6B63\u7533\u8BF7\u4E66",value:5},{label:"\u4E2A\u4EBA\u5C0F\u7ED3",value:6}],r=F("");let c=F("");const A=g(()=>{if(e.value.type<=6)return x[e.value.type].label});G(async()=>{e.value=history.state.params,e.value.content=e.value.content.replace(/\\r\\n|\\n|\\r/g,"<br>"),console.log(e.value)}),F({title:"\u5165\u515A\u7533\u8BF7\u4E66",content:"\u8FD9\u662F\u6587\u7AE0\u7684\u6B63\u6587\u5185\u5BB9..."});const V=async()=>{if(!e.value.attachment){i.warning("\u65E0\u9644\u4EF6");return}await K(e.value.attachment).then(s=>{const t=window.URL.createObjectURL(new Blob([s.data])),d=document.createElement("a");d.href=t;let f=e.value.attachment.split("/");d.setAttribute("download",f[f.length-1]),document.body.appendChild(d),d.click()}).catch(s=>{i.error(s)})},Y=async()=>{if(!r.value){i.warning("\u8BF7\u586B\u5199\u65F6\u95F4");return}await C(1,e.value.file_id,c.value,r.value).then(()=>{i.success("\u5904\u7406\u6210\u529F"),E.back()}).catch(s=>{i.error(s)})},N=async()=>{if(!r.value){i.warning("\u8BF7\u586B\u5199\u65F6\u95F4");return}await C(2,e.value.file_id,c.value,r.value).then(()=>{i.success("\u5904\u7406\u6210\u529F"),E.back()}).catch(s=>{i.error(s)})};return(s,t)=>{const d=O("Close"),f=R,n=U,h=j,B=L,H=J,T=I;return m(),D("div",W,[_.value?v("",!0):(m(),b(f,{key:0,onClick:t[0]||(t[0]=p=>k(E).back()),style:{height:"50px",margin:"20px 5% 0 auto","font-size":"50px"}},{default:a(()=>[l(d)]),_:1})),_.value?v("",!0):(m(),b(h,{key:1,class:"personal-info-title"},{default:a(()=>[l(n,{span:6},{default:a(()=>t[3]||(t[3]=[u("div",null,"\u59D3\u540D",-1)])),_:1}),l(n,{span:6},{default:a(()=>t[4]||(t[4]=[u("div",null,"\u5B66\u53F7",-1)])),_:1}),l(n,{span:6},{default:a(()=>t[5]||(t[5]=[u("div",null,"\u6587\u4EF6\u7C7B\u578B",-1)])),_:1}),l(n,{span:6},{default:a(()=>t[6]||(t[6]=[u("div",null,"\u9012\u4EA4\u65F6\u95F4",-1)])),_:1})]),_:1})),_.value?v("",!0):(m(),b(h,{key:2,class:"personal-info"},{default:a(()=>[l(n,{span:6},{default:a(()=>[u("div",null,o(e.value.userName),1)]),_:1}),l(n,{span:6},{default:a(()=>[u("div",null,o(e.value.sno),1)]),_:1}),l(n,{span:6},{default:a(()=>[u("div",null,o(A.value),1)]),_:1}),l(n,{span:6},{default:a(()=>[u("div",null,o(new Date(Date.parse(e.value.createAt)).getFullYear()+"-"+(new Date(Date.parse(e.value.createAt)).getMonth()+1)+"-"+new Date(Date.parse(e.value.createAt)).getDate()),1)]),_:1})]),_:1})),_.value?(m(),D("div",X,[u("div",Z,"\u59D3\u540D\uFF1A"+o(e.value.userName),1),u("div",ee,"\u5B66\u53F7\uFF1A"+o(e.value.sno),1),u("div",te,"\u6587\u4EF6\u7C7B\u578B\uFF1A"+o(A.value),1),u("div",ue," \u9012\u4EA4\u65F6\u95F4\uFF1A"+o(new Date(Date.parse(e.value.createAt)).getFullYear()+"-"+(new Date(Date.parse(e.value.createAt)).getMonth()+1)+"-"+new Date(Date.parse(e.value.createAt)).getDate()),1)])):v("",!0),u("div",ae,o(e.value.title),1),u("div",{class:"article-content",innerHTML:e.value.content},null,8,le),e.value.attachment?(m(),D("div",oe,[u("div",se,o(e.value.attachment),1)])):v("",!0),u("div",ne,[l(B,{class:"downloadBtn",color:"#C7242F",onClick:V},{default:a(()=>t[7]||(t[7]=[y("\u4E0B\u8F7D\u9644\u4EF6")])),_:1})]),l(H,{type:"textarea",placeholder:"\u5BA1\u6279\u610F\u89C1\uFF08\u9009\u586B\uFF09",class:"approval-comment",modelValue:k(c),"onUpdate:modelValue":t[1]||(t[1]=p=>P(c)?c.value=p:c=p)},null,8,["modelValue"]),t[10]||(t[10]=u("div",{style:{width:"80%"}},[u("div",{style:{color:"#c7242f"},class:"font1"}," *\u8BE5\u8282\u70B9\u9700\u8981\u8BB0\u5F55\u65F6\u95F4\uFF0C\u8BF7\u9009\u62E9\u72B6\u6001\u53D8\u66F4\u65F6\u95F4 ")],-1)),u("div",ie,[l(T,{type:"datetime",size:"small",style:{"align-self":"flex-start","margin-top":"10px"},modelValue:r.value,"onUpdate:modelValue":t[2]||(t[2]=p=>r.value=p),format:"YYYY-MM-DD-HH:mm","value-format":"YYYY-MM-DDTHH:mm:ss.sss"},null,8,["modelValue"])]),u("div",re,[l(B,{class:"custom-button",color:"#C7242F",onClick:Y},{default:a(()=>t[8]||(t[8]=[y("\u901A\u8FC7")])),_:1}),l(B,{class:"custom-button",onClick:N},{default:a(()=>t[9]||(t[9]=[y("\u4E0D\u901A\u8FC7")])),_:1})])])}}});var Ae=Q(ce,[["__scopeId","data-v-444edab4"]]);export{Ae as default};
